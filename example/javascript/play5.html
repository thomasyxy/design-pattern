<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>单例模式</title>
  </head>
  <body>
    <script type="text/javascript">
      var getSingle = function(fn){
        var ret;
        return function(){
          return ret || (ret = fn.apply(this, arguments));
        }
      }
      var getScript = getSingle(function(){
        return document.createElement('script');
      })

      var script1 = getScript();
      var script2 = getScript();

      alert(script1 === script2);
    </script>
  </body>
</html>
