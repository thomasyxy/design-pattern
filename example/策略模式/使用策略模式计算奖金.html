<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>使用策略模式计算奖金</title>
  </head>
  <body>
    <script type="text/javascript">
      // 策略类
      var performanceS = function(){};
      performanceS.prototype.calculate = function(salary){
        return salary*4;
      }
      var performanceA = function(){};
      performanceA.prototype.calculate = function(salary){
        return salary*3;
      }
      var performanceB = function(){};
      performanceB.prototype.calculate = function(salary){
        return salary*2;
      };

      // 环境类
      var Bonus = function(){
        this.salary = null;
        this.strategy = null;
      };

      Bonus.prototype.setSalary = function(salary){
        this.salary = salary;
      }

      Bonus.prototype.setStrategy = function(strategy){
        this.strategy = strategy;
      }

      Bonus.prototype.getBonus = function(){
        return this.strategy.calculate(this.salary);
      }

      var bonus = new Bonus();
      bonus.setSalary(10000);
      bonus.setStrategy(new performanceS());
      console.log(bonus.getBonus());
      bonus.setStrategy(new performanceB());
      console.log(bonus.getBonus());
    </script>
  </body>
</html>
