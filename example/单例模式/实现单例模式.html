<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>实现单例模式</title>
  </head>
  <body>
    <script type="text/javascript">
      // var Singleton = function(name){
      //   this.name = name;
      //   this.instance = null;
      // }
      // Singleton.prototype.getName = function(){
      //   alert(this.name);
      // }
      //
      // Singleton.getInstance = function(name){
      //   if(!this.instance){
      //     this.instance = new Singleton(name);
      //   }
      //   return this.instance;
      // }
      var Singleton = function(name){
        this.name = name;
      }
      Singleton.prototype.getName = function(){
        alert(this.name);
      }
      Singleton.getInstance = (function(){
        var instance = null;
        return function(name){
          if(!instance){
            instance = new Singleton(name);
          }
          return instance;
        }
      })()


      var a = Singleton.getInstance('seven1');
      var b = Singleton.getInstance('seven2');
      alert(a === b);

    </script>
  </body>
</html>
